name : who_wins

on:
  push:
  pull_request:

jobs:
  who_releases_pims:
    runs-on: ubuntu-latest
    env:
      guess: $(("ABC" | cut -c$((RANDOM % 3 + 1))))
      randval: ${{RANDOM % 3}}

    steps:
      # - name: ${{ github.event.number == 0 && 'master' ||  format('pr-{0}', github.event.number)  }}  #  ${{ github.actor }}'s turn{:} ✂️
      #   shell: bash -l {0}
      #   run: |
      #     python3 -c "import random; print('✂️')"

      - name: Generate Random Number -> ${{ env.randval }}
        id: random
        run: |
          echo "RND_VALUE=$((RANDOM % 10))" >> $GITHUB_ENV
          echo "The guess was ${{env.guess}}"
          echo "The randval was ${{env.randval}}"

      # - name: Generate Random Number
      #   id: random
      #   run: echo "::set-output name=randnum::$(($RANDOM % 100))"

      - name: Display random value ${{env.RND_VALUE}}
        run: echo "The value of RND_VALUE is $RND_VALUE"
        
      - name: ${{ steps.random.outputs.randnum < 50 && 'Special Step' || 'Default Step' }}
        run: echo "This step's name is set based on the random number."

    # name: ${{ env.name }}

    name: Check whose commit wins
